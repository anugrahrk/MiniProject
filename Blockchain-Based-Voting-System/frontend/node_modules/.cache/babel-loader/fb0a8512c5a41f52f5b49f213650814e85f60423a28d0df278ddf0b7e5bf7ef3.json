{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anugr\\\\Downloads\\\\RUN ANYWAAY\\\\Blockchain-Based-Voting-System\\\\frontend\\\\src\\\\pages\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { Formik } from \"formik\";\nimport LoginLayout from \"../layouts/Login\";\nimport * as Yup from \"yup\";\nimport axios from \"../axios\";\nimport { AuthContext } from \"../contexts/Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = Yup.object().shape({\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n  password: Yup.string().min(3).required(\"Required\")\n});\nconst Login = props => {\n  _s();\n  const navigate = useNavigate();\n  const authContext = useContext(AuthContext);\n  const [error, setError] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(LoginLayout, {\n      error: error,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: \"\",\n            password: \"\"\n          },\n          validationSchema: schema,\n          onSubmit: values => {\n            axios.post(\"/auth/login\", {\n              ...values\n            }).then(res => {\n              authContext.authenticate(res.data.user, res.data.accessToken);\n            }).catch(err => {\n              var _err$response;\n              let error = err.message;\n              if (err !== null && err !== void 0 && (_err$response = err.response) !== null && _err$response !== void 0 && _err$response.data) error = JSON.stringify(err.response.data);\n              setError(error);\n            });\n          },\n          children: ({\n            errors,\n            touched,\n            getFieldProps,\n            handleSubmit\n          }) => /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                type: \"email\",\n                placeholder: \"Email\",\n                ...getFieldProps(\"email\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-error-text\",\n                children: touched.email && errors.email ? errors.email : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                type: \"password\",\n                placeholder: \"Password\",\n                ...getFieldProps(\"password\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-error-text\",\n                children: touched.password && errors.password ? errors.password : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"login-button button-primary\",\n              type: \"submit\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-info-text\",\n          children: \"Forgot Password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/signup\"),\n          className: \"button-secondary\",\n          children: \"Create a New Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"B5I8uXhS5+tuRyb7QHf8UoqDXBM=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","Formik","LoginLayout","Yup","axios","AuthContext","jsxDEV","_jsxDEV","schema","object","shape","email","string","required","password","min","Login","props","_s","navigate","authContext","error","setError","children","className","initialValues","validationSchema","onSubmit","values","post","then","res","authenticate","data","user","accessToken","catch","err","_err$response","message","response","JSON","stringify","errors","touched","getFieldProps","handleSubmit","id","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/anugr/Downloads/RUN ANYWAAY/Blockchain-Based-Voting-System/frontend/src/pages/Login.tsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { Formik } from \"formik\";\r\nimport { RouteProps } from \"react-router\";\r\nimport LoginLayout from \"../layouts/Login\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"../axios\";\r\nimport { AuthContext } from \"../contexts/Auth\";\r\n\r\nconst schema = Yup.object().shape({\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n  password: Yup.string().min(3).required(\"Required\"),\r\n});\r\n\r\nconst Login = (props: RouteProps): JSX.Element => {\r\n  const navigate = useNavigate();\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [error, setError] = useState<any>(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <LoginLayout error={error}>\r\n        <div className=\"form-container\">\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              password: \"\",\r\n            }}\r\n            validationSchema={schema}\r\n            onSubmit={(values) => {\r\n              axios\r\n                .post(\"/auth/login\", { ...values })\r\n                .then((res) => {\r\n                  authContext.authenticate(res.data.user, res.data.accessToken);\r\n                })\r\n                .catch((err) => {\r\n                  let error = err.message;\r\n                  if (err?.response?.data)\r\n                    error = JSON.stringify(err.response.data);\r\n                  setError(error);\r\n                });\r\n            }}\r\n          >\r\n            {({ errors, touched, getFieldProps, handleSubmit }) => (\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"input-container\">\r\n                  <input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    {...getFieldProps(\"email\")}\r\n                  />\r\n                  <div className=\"form-error-text\">\r\n                    {touched.email && errors.email ? errors.email : null}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"input-container\">\r\n                  <input\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    {...getFieldProps(\"password\")}\r\n                  />\r\n                  <div className=\"form-error-text\">\r\n                    {touched.password && errors.password\r\n                      ? errors.password\r\n                      : null}\r\n                  </div>\r\n                </div>\r\n\r\n                <button className=\"login-button button-primary\" type=\"submit\">\r\n                  Login\r\n                </button>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n\r\n          <div className=\"form-info-text\">Forgot Password?</div>\r\n\r\n          <hr />\r\n\r\n          <button\r\n            onClick={() => navigate(\"/signup\")}\r\n            className=\"button-secondary\"\r\n          >\r\n            Create a New Account\r\n          </button>\r\n        </div>\r\n      </LoginLayout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}